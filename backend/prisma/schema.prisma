// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

//ini aku pakai prisma versi 5.10 
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL") //ini abaikan aja gk ada masalah walaupun merah, wajar karena ini version 5.10
}

enum ParticipantType { //cuman boleh milih salah satu, jadi kalau dia itu binusian ya ga bisa milih non-binusian
  BINUSIAN
  NON_BINUSIAN
}

model Team {
  id        Int   @id @default(autoincrement())
  name      String   @unique
  password  String   
  type      ParticipantType
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  leader    Leader?
}

  model Leader {
    id          Int   @id @default(autoincrement())
    teamId      Int   @unique
    team        Team  @relation(fields: [teamId], references: [id], onDelete: Cascade)

    fullName    String
    email       String   @unique
    whatsapp    String   @unique
    lineId      String   @unique
    github      String
    birthPlace  String
    birthDate   DateTime

    
    cvFileUrl     String
    flazzFileUrl  String?  // BINUSIAN
    idCardFileUrl String?  // NON_BINUSIAN

    createdAt   DateTime @default(now())
    updatedAt   DateTime @updatedAt
  }

model Admin {
  id        Int   @id @default(autoincrement())
  username  String   @unique
  password  String   // HASH
  createdAt DateTime @default(now())
}
